---
id : 'jellu'
title : 'JELLU'
subTitle : '캐주얼 FPS, 로그라이크, 3인 협동 멀티플레이'
teamMembers : '유성호 (소융24), 서창범 (소융24), 성효진 (소융24), 고건영 (소융24), 황은빈 (디콘24), 김민혜 (디콘24)'
period : '2025.03 ~ 2025.12'
techStack : ['Unreal Engine 5', 'Git']
thumbnailFormat: 'webp'
extraImages:
  - '/images/project/jellu/1.webp'
  - '/images/project/jellu/2.webp'
---

# 게임 목표

플레이어 3명이 서로 협동하여 폐쇠된 연구실에 남아 있는 젤루(Enemy)를 처치하고 연구실 최하단까지 도달하는 것이 목표이다.

# 게임 특징 1

핵심 : RGB의 조합을 활용한 플레이어 간의 협동 요구

- 플레이어는 게임 시작 전 자신 고유의 색과 도구(스킬)를 정하고 게임을 시작
- 플레이어는 각자의 색상을 가진 적에게만 데미지를 줄 수 있음.
- 최종적으로 모든 색의 쉴드가 사라진 흰색 적의 경우 근접 공격을 통해 한 번에 처리
- 젤루(Enemy)가 다양한 색이 섞여 등장하기 때문에 한 명이라도 죽게 되는 경우 그대로 게임이 오버된다. 
- 따라서 플레이어 간의 소통이 매우 중요하며, 체력이 모두 닳아 기절 상태가 되더라도 15초 이내에 팀원이 소생시켜 준다면 다시 부활이 가능하다. 
- 만약 기절 상태가 되고 나서 15초 이내에 소생이 불가 하다면 플레이어는 죽음 상태가 되고 그대로 게임이 종료된다.

# 게임 특징 2

핵심 : 포물선 형태의 프로젝타일 (오버워치의 정크렛) 및 도구 활용

- 에임에 대한 큰 부담 X

# 게임 특징 3

핵심 : 탄알 관리가 매우 중요

- 젤루(Enemy)를 죽이게 되면 그대로 탄알에 쓰일 수 있는 물질 상태가 됨.
- 이렇게 탄알로 쓰일 수 있게 된 젤루를 흡수하여 탄알을 채우는 방식으로 탄알 관리가 매우 중요함.
- 흰색 적의 경우 근접 공격을 통해 한 번에 처리가 가능하다. 
- 따라서 근접 공격을 적재적소에 활용하여 젤루(탄알)을 아끼는 것이 중요함.

# 게임 특징 4

핵심 : 로그라이크 특징을 가진 FPS

- 맵은 매 게임마다 랜덤으로 등장하게 하여 플레이어로 하여금 지루함을 느끼지 않도록 하였다.
- 한 맵에 있는 젤루(Enemy)를 모두 처치하면 능력을 업그레이드 할 수 있다.
- 능력 업그레이드는 3개가 랜덤으로 뜨며 3개 중 하나를 고르는 형식으로 진행된다. 업그레이드 할 수 있는 요소들은 다음과 같다.
    - 공격력 증가
    - 이동 속도 증가
    - 최대 체력 증가
    - 최대 쉴드 증가
    - 쉴드 회복 속도 증가
    - 공격 쿨타임 감소
    - 최대 대쉬 개수 증가
    - 대쉬 충전 속도 증가
    - 젤루 흡수 속도 증가
    - 재장전 시간 감소
    - 최대 보유할 수 있는 젤루 수 증가
    - 탄창 증가
    - 크리티컬 확률 증가
    - 크리티컬 데미지 증가

# 게임 특징 5

핵심 : 다양한 적 등장

- 기본형 적, 원거리형 적, 은신형 적, 탱커형 적, 마법형 적, 돌진형 적, 폭탄형 적, 공중형 적 등 레벨 마다 다양한 적이 다른 색의 조합으로 등장하여 팀원과의 소통으로 까다로운 적을 먼저 처치하는 등 협동을 요구한다.

# 조작법

- 이동 : WASD
- 점프 : 스페이스바
- 대쉬 : LCtrl
- 젤루 발사 : 마우스 좌클릭
- 젤루 흡수 : 마우스 우클릭 꾹 누르기
- 근접 공격 및 팀원 소생 : F
- 재장전 : R

# 맵 컨셉

- 폐쇠된 실험실 분위기를 모티브로 함.

# 인게임 화면

# 게임 구현

- 구현 방식
    - 게임 로직 : Unreal C++
    - Enemy : C++ 및 Behavior Tree (BT)
    - UI 및 Animation : Unreal Blueprint

- 멀티 플레이
    - Unreal Engine 5의 Listen Server를 이용하여 플레이어 한 명이 Server가 되고 나머지 플레이어 두 명이 Client가 되는 구조.
    - RPC 서버 구조로 모든 작업은 서버에서만 이루어짐.
    - "Client Player가 프로젝타일을 발사한다" 라는 동작이 수행되어야 한다면, Client Player는 Server Player에게 프로젝타일을 발사한다고 호출.
    - Server에서 프로젝타일이 발사되고 이것이 다른 Client Player의 화면에서도 보이게 됨.

- 참고 자료
    - https://velog.io/@mino0215/개발일지-RPC-함수를-작성하다가-작성중

- Component를 활용한 효율적 개발
    - CreatureCombatComponent(CCC) : Enemy의 Base가 되는 로직을 포함. 모든 Enemy가 사용하는 로직을 컴포넌트로 관리하여 재활용성을 높임.
    - Character Class 내에서 Enhanced Input을 통해 Input이 들어오면 Component 로직을 호출하는 형식으로 기능들을 Component로 각각 분리함. : 수정, 유지 보수를 편리하게 함.
    - PlayerStateComponent : PlayerState 클래스의 각 플레이어의 체력, 공격력 등의 정보를 기반으로 기절, 죽음, 피격 상태 등을 관리하고 상태에 따른 UI 및 애니메이션을 관리함.
    - WeaponComponent : 젤루 발사 및 흡수 로직을 담당함.

- 젤루 발사 로직
    - 멀티 게임이다 보니 타 플레이어의 화면에서 젤루가 무기에서 발사되도록 하면 플레이어 자신의 화면에선 화면 중앙에 있는 Crosshair로 프로젝타일이 날아가지 않아 포물선으로 (오버워치의 정크렛처럼) 날아가도록 조정함.
    - 총구의 위치를 BP에서 조정.
    - WeaponComponent 내에서 총구의 위치를 저장.
    - Pitch 보정용 쿼터니언 생성 (위쪽으로 회전)
    - 회전 쿼터니언에 보정 곱하기
    - 클라이언트의 경우 서버에 발사 요청 및 서버의 경우 바로 발사
    - 발사한 플레이어의 고유 색에 따른 프로젝타일 불러오기
    - 해당 프로젝타일을 플레이어의 카메라가 바라보는 방향으로 발사
    - 나이아가라, 애니메이션, 사운드 등 추가 조정